extends layout

include ../includes/metadata
include ../includes/status

block append libCSS

block append libScripts
  script(src='libs/markdown.js')
  script(src='libs/moment.min.js')
  script(src='libs/jquery.noty.js')
  script(src='libs/jquery.noty.top.js')
  script(src='libs/jquery.noty.default.js')
  script(src='javascripts/utils.js')

block header
  h1 Create Job
  
block content
  .row
    .col-md-6
        .form-group
          label(for='name') Insert job name:
          input#name.form-control(type='text', placeholder='Job name')
        .form-group
          label(for='alias') Insert job alias:
          input#alias.form-control(type='text', placeholder='Job alias')
          p.help-block The alias will be slugified.
        .form-group
          label(for='description') Insert description:
          textarea#description.form-control(rows='5')
          p.help-block Insert 
            a(href='http://daringfireball.net/projects/markdown/syntax', target='_blank') markdown 
            | here
    .col-md-6
      .list-controller
        .form-group
          label(for="assignment") Task assignment strategy: 
          select.list-controller-name.form-control#assignment
            option(selected) None
            if taskAssignmentStrategies.length>0
              each strategy in taskAssignmentStrategies
                option(
                  data-name=strategy.name,
                  data-type='strategy',
                  data-params=JSON.stringify( strategy.params )
                  )= strategy.name
        .param-container.well.well-sm
          h4 Parameters
          .param-list
  .row
    .col-md-6
      .form-group
        label(for='landing') Insert landing page:
        textarea#landing.form-control(rows='7')
        p.help-block Insert 
          a(href='http://daringfireball.net/projects/markdown/syntax', target='_blank') markdown 
          | here
    .col-md-6
      .form-group
        label(for='description') Insert ending:
        textarea#ending.form-control(rows='7')
        p.help-block Insert 
          a(href='http://daringfireball.net/projects/markdown/syntax', target='_blank') markdown 
          | here
  .row
    .col-md-12.text-right
      .btn-group
        button.btn.btn-warning(type='reset')
          i.fa.fa-undo
          |  Reset
        button#send.btn.btn-success(type='button')
          i.fa.fa-envelope-o
          |  Send

  // Load scripts
  script(src='javascripts/strategy.js')
  script(src='javascripts/new_job.js')
  //pre= JSON.stringify( taskAssignmentStrategies, null, 2)
